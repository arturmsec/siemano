import{A as oe}from"./AuthenticationService.b5bde8df.js";import{d as p,u as $,r as x,e as ue,f as E,i as L,g as ce,h as de,j as T,k as fe,l as q,p as B,m as $e,n as M,_ as me,o as ve,c as ge,w as U,v as W,a as j}from"./index.ecda8f4c.js";import"./Api.b3e65364.js";function Z(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((n,r)=>(t.includes(r)||(n[r]=$(e[r])),n),{})}function C(e){return typeof e=="function"}function he(e){return ce(e)||de(e)}function Q(e,t,n,r){return e.call(r,$(t),$(n),r)}function X(e){return e.$valid!==void 0?!e.$valid:!e}function pe(e,t,n,r,a,d,u){let{$lazy:l,$rewardEarly:c}=a,v=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],o=arguments.length>8?arguments[8]:void 0,m=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0;const g=x(!!r.value),s=x(0);n.value=!1;const i=E([t,r].concat(v,h),()=>{if(l&&!r.value||c&&!m.value&&!n.value)return;let f;try{f=Q(e,t,o,u)}catch(R){f=Promise.reject(R)}s.value++,n.value=!!s.value,g.value=!1,Promise.resolve(f).then(R=>{s.value--,n.value=!!s.value,d.value=R,g.value=X(R)}).catch(R=>{s.value--,n.value=!!s.value,d.value=R,g.value=!0})},{immediate:!0,deep:typeof t=="object"});return{$invalid:g,$unwatch:i}}function ye(e,t,n,r,a,d,u,l){let{$lazy:c,$rewardEarly:v}=r;const o=()=>({}),m=p(()=>{if(c&&!n.value||v&&!l.value)return!1;let h=!0;try{const g=Q(e,t,u,d);a.value=g,h=X(g)}catch(g){a.value=g}return h});return{$unwatch:o,$invalid:m}}function Re(e,t,n,r,a,d,u,l,c,v,o){const m=x(!1),h=e.$params||{},g=x(null);let s,i;e.$async?{$invalid:s,$unwatch:i}=pe(e.$validator,t,m,n,r,g,a,e.$watchTargets,c,v,o):{$invalid:s,$unwatch:i}=ye(e.$validator,t,n,r,g,a,c,v);const f=e.$message;return{$message:C(f)?p(()=>f(Z({$pending:m,$invalid:s,$params:Z(h),$model:t,$response:g,$validator:d,$propertyPath:l,$property:u}))):f||"",$params:h,$pending:m,$invalid:s,$response:g,$unwatch:i}}function xe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=$(e),n=Object.keys(t),r={},a={},d={};return n.forEach(u=>{const l=t[u];switch(!0){case C(l.$validator):r[u]=l;break;case C(l):r[u]={$validator:l};break;case u.startsWith("$"):d[u]=l;break;default:a[u]=l}}),{rules:r,nestedValidators:a,config:d}}function we(){}const _e="__root";function Y(e,t,n){if(n)return t?t(e()):e();try{var r=Promise.resolve(e());return t?r.then(t):r}catch(a){return Promise.reject(a)}}function Ee(e,t){return Y(e,we,t)}function je(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function be(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function Ce(e,t,n,r,a,d,u,l,c){const v=Object.keys(e),o=r.get(a,e),m=x(!1),h=x(!1),g=x(0);if(o){if(!o.$partial)return o;o.$unwatch(),m.value=o.$dirty.value}const s={$dirty:m,$path:a,$touch:()=>{m.value||(m.value=!0)},$reset:()=>{m.value&&(m.value=!1)},$commit:()=>{}};return v.length?(v.forEach(i=>{s[i]=Re(e[i],t,s.$dirty,d,u,i,n,a,c,h,g)}),s.$externalResults=p(()=>l.value?[].concat(l.value).map((i,f)=>({$propertyPath:a,$property:n,$validator:"$externalResults",$uid:`${a}-externalResult-${f}`,$message:i,$params:{},$response:null,$pending:!1})):[]),s.$invalid=p(()=>{const i=v.some(f=>$(s[f].$invalid));return h.value=i,!!s.$externalResults.value.length||i}),s.$pending=p(()=>v.some(i=>$(s[i].$pending))),s.$error=p(()=>s.$dirty.value?s.$pending.value||s.$invalid.value:!1),s.$silentErrors=p(()=>v.filter(i=>$(s[i].$invalid)).map(i=>{const f=s[i];return T({$propertyPath:a,$property:n,$validator:i,$uid:`${a}-${i}`,$message:f.$message,$params:f.$params,$response:f.$response,$pending:f.$pending})}).concat(s.$externalResults.value)),s.$errors=p(()=>s.$dirty.value?s.$silentErrors.value:[]),s.$unwatch=()=>v.forEach(i=>{s[i].$unwatch()}),s.$commit=()=>{h.value=!0,g.value=Date.now()},r.set(a,e,s),s):(o&&r.set(a,e,s),s)}function Oe(e,t,n,r,a,d,u){const l=Object.keys(e);return l.length?l.reduce((c,v)=>(c[v]=A({validations:e[v],state:t,key:v,parentKey:n,resultsCache:r,globalConfig:a,instance:d,externalResults:u}),c),{}):{}}function Ve(e,t,n){const r=p(()=>[t,n].filter(s=>s).reduce((s,i)=>s.concat(Object.values($(i))),[])),a=p({get(){return e.$dirty.value||(r.value.length?r.value.every(s=>s.$dirty):!1)},set(s){e.$dirty.value=s}}),d=p(()=>{const s=$(e.$silentErrors)||[],i=r.value.filter(f=>($(f).$silentErrors||[]).length).reduce((f,R)=>f.concat(...R.$silentErrors),[]);return s.concat(i)}),u=p(()=>{const s=$(e.$errors)||[],i=r.value.filter(f=>($(f).$errors||[]).length).reduce((f,R)=>f.concat(...R.$errors),[]);return s.concat(i)}),l=p(()=>r.value.some(s=>s.$invalid)||$(e.$invalid)||!1),c=p(()=>r.value.some(s=>$(s.$pending))||$(e.$pending)||!1),v=p(()=>r.value.some(s=>s.$dirty)||r.value.some(s=>s.$anyDirty)||a.value),o=p(()=>a.value?c.value||l.value:!1),m=()=>{e.$touch(),r.value.forEach(s=>{s.$touch()})},h=()=>{e.$commit(),r.value.forEach(s=>{s.$commit()})},g=()=>{e.$reset(),r.value.forEach(s=>{s.$reset()})};return r.value.length&&r.value.every(s=>s.$dirty)&&m(),{$dirty:a,$errors:u,$invalid:l,$anyDirty:v,$error:o,$pending:c,$touch:m,$reset:g,$silentErrors:d,$commit:h}}function A(e){const t=be(function(){return z(),je(function(){if(i.$rewardEarly)return F(),Ee(M)},function(){return Y(M,function(){return new Promise(y=>{if(!P.value)return y(!V.value);const _=E(P,()=>{y(!V.value),_()})})})})});let{validations:n,state:r,key:a,parentKey:d,childResults:u,resultsCache:l,globalConfig:c={},instance:v,externalResults:o}=e;const m=d?`${d}.${a}`:a,{rules:h,nestedValidators:g,config:s}=xe(n),i=Object.assign({},c,s),f=a?p(()=>{const y=$(r);return y?$(y[a]):void 0}):r,R=Object.assign({},$(o)||{}),k=p(()=>{const y=$(o);return a?y?$(y[a]):void 0:y}),S=Ce(h,f,a,l,m,i,v,k,r),N=Oe(g,f,m,l,i,v,k),{$dirty:O,$errors:ee,$invalid:V,$anyDirty:te,$error:ne,$pending:P,$touch:z,$reset:re,$silentErrors:se,$commit:F}=Ve(S,N,u),ae=a?p({get:()=>$(f),set:y=>{O.value=!0;const _=$(r),D=$(o);D&&(D[a]=R[a]),L(_[a])?_[a].value=y:_[a]=y}}):null;a&&i.$autoDirty&&E(f,()=>{O.value||z();const y=$(o);y&&(y[a]=R[a])},{flush:"sync"});function ie(y){return(u.value||{})[y]}function le(){L(o)?o.value=R:Object.keys(R).length===0?Object.keys(o).forEach(y=>{delete o[y]}):Object.assign(o,R)}return T(Object.assign({},S,{$model:ae,$dirty:O,$error:ne,$errors:ee,$invalid:V,$anyDirty:te,$pending:P,$touch:z,$reset:re,$path:m||_e,$silentErrors:se,$validate:t,$commit:F},u&&{$getResultsForChild:ie,$clearExternalResults:le},N))}class Pe{constructor(){this.storage=new Map}set(t,n,r){this.storage.set(t,{rules:n,result:r})}checkRulesValidity(t,n,r){const a=Object.keys(r),d=Object.keys(n);return d.length!==a.length||!d.every(l=>a.includes(l))?!1:d.every(l=>n[l].$params?Object.keys(n[l].$params).every(c=>$(r[l].$params[c])===$(n[l].$params[c])):!0)}get(t,n){const r=this.storage.get(t);if(!r)return;const{rules:a,result:d}=r,u=this.checkRulesValidity(t,n,a),l=d.$unwatch?d.$unwatch:()=>({});return u?d:{$dirty:d.$dirty,$partial:!0,$unwatch:l}}}const b={COLLECT_ALL:!0,COLLECT_NONE:!1},H=Symbol("vuelidate#injectChildResults"),G=Symbol("vuelidate#removeChildResults");function ze(e){let{$scope:t,instance:n}=e;const r={},a=x([]),d=p(()=>a.value.reduce((o,m)=>(o[m]=$(r[m]),o),{}));function u(o,m){let{$registerAs:h,$scope:g,$stopPropagation:s}=m;s||t===b.COLLECT_NONE||g===b.COLLECT_NONE||t!==b.COLLECT_ALL&&t!==g||(r[h]=o,a.value.push(h))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],u);function l(o){a.value=a.value.filter(m=>m!==o),delete r[o]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],l);const c=q(H,[]);B(H,n.__vuelidateInjectInstances);const v=q(G,[]);return B(G,n.__vuelidateRemoveInstances),{childResults:d,sendValidationResultsToParent:c,removeValidationResultsFromParent:v}}function K(e){return new Proxy(e,{get(t,n){return typeof t[n]=="object"?K(t[n]):p(()=>t[n])}})}function Le(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(n=e,e=void 0,t=void 0);let{$registerAs:r,$scope:a=b.COLLECT_ALL,$stopPropagation:d,$externalResults:u,currentVueInstance:l}=n;const c=l||$e(),v=c?c.type:{};!r&&c&&(r=`_vuelidate_${c.uid||c._uid}`);const o=x({}),m=new Pe,{childResults:h,sendValidationResultsToParent:g,removeValidationResultsFromParent:s}=c?ze({$scope:a,instance:c}):{childResults:x({})};if(!e&&v.validations){const i=v.validations;t=x({}),ue(()=>{t.value=c.proxy,E(()=>C(i)?i.call(t.value,new K(t.value)):i,f=>{o.value=A({validations:f,state:t,childResults:h,resultsCache:m,globalConfig:n,instance:c.proxy,externalResults:u||c.proxy.vuelidateExternalResults})},{immediate:!0})}),n=v.validationsConfig||n}else{const i=L(e)||he(e)?e:T(e||{});E(i,f=>{o.value=A({validations:f,state:t,childResults:h,resultsCache:m,globalConfig:n,instance:c?c.proxy:{},externalResults:u})},{immediate:!0})}return c&&(g.forEach(i=>i(o,{$registerAs:r,$scope:a,$stopPropagation:d})),fe(()=>s.forEach(i=>i(r)))),p(()=>Object.assign({},$(o.value),h.value))}const I=e=>{if(e=$(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length},Ae=e=>(e=$(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=>(r=$(r),!I(r)||t.every(a=>a.test(r)))}w(/^[a-zA-Z]*$/);w(/^[a-zA-Z0-9]*$/);w(/^\d*(\.\d+)?$/);const Te=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var Ie=w(Te),ke={$validator:Ie,$message:"Value is not a valid email address",$params:{type:"email"}};function Se(e){return t=>!I(t)||Ae(t)>=$(e)}function Ne(e){return{$validator:Se(e),$message:t=>{let{$params:n}=t;return`This field should be at least ${n.min} long`},$params:{min:e,type:"minLength"}}}function Fe(e){return typeof e=="string"&&(e=e.trim()),I(e)}var J={$validator:Fe,$message:"Value is required",$params:{type:"required"}};const De=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;w(De);w(/(^[0-9]*$)|(^-[0-9]+$)/);w(/^[-]?\d*(\.\d+)?$/);const qe={setup(){return{v$:Le()}},data(){return{email:"",password:""}},validations(){return{email:{required:J,email:ke},password:{required:J,min:Ne(6)}}},methods:{async register(){const e=await this.v$.$validate();if(console.log(e),e)try{const t=await oe.register({login:this.email,password:this.password});t.error?alert(t.error):alert("Rejestracja zako\u0144czona pomy\u015Blnie!")}catch(t){this.error=t.response.data.error,alert(t.response.data.error)}}}},Be=j("h3",null,"Panel rejestracji u\u017Cytkownika",-1);function Me(e,t,n,r,a,d){return ve(),ge("form",null,[Be,U(j("input",{type:"email",placeholder:"email","onUpdate:modelValue":t[0]||(t[0]=u=>a.email=u)},null,512),[[W,a.email]]),U(j("input",{type:"password",placeholder:"password","onUpdate:modelValue":t[1]||(t[1]=u=>a.password=u),required:""},null,512),[[W,a.password]]),j("button",{type:"button",onClick:t[2]||(t[2]=(...u)=>d.register&&d.register(...u)),class:"userRegister"}," Register ")])}var He=me(qe,[["render",Me]]);export{He as default};
